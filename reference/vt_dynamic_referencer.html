<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Manage dynamic refrerencing — vt_dynamic_referencer • valtools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Manage dynamic refrerencing — vt_dynamic_referencer"><meta name="description" content="Manage dynamic refrerencing
Manage dynamic refrerencing"><meta property="og:description" content="Manage dynamic refrerencing
Manage dynamic refrerencing"><meta property="og:image" content="https://phuse-org.github.io/valtools/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">valtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/starting-validated-package.html">Starting New Validation Package using {valtools}</a></li>
    <li><a class="dropdown-item" href="../articles/validating-external-resources.html">Validating External Resources with {valtools}</a></li>
    <li><a class="dropdown-item" href="../articles/validation_figure_tests.html">Validation: Figure Tests</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Manage dynamic refrerencing</h1>

      <div class="d-none name"><code>vt_dynamic_referencer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Manage dynamic refrerencing</p>
<p>Manage dynamic refrerencing</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The job of the dynamic referencer is to aggregate the references that exist from
requirements, test cases, test code and in the validation report and
update them accordingly. This helps with the painful cases where a new reference
may be added between existing numbering and all subsequent references need to be
updated</p>
<p>The user should not need to use this object directly, it will be called upon
on rendering of the contents in the validation report.</p>
<p>By default, the expected indicator for a reference is "##", though this can be
changed. A reference starts with the indicator (##) and can then be any
contiguous (no white spaces or special characters) alphanumeric sequence, or include
an underscore or dash. ie. ##req:THISIS_A-reference1234 is valid for the entire string,
but ##req:THISIS_A-reference.12345 is a dynamic reference up to the ".".</p>
<p>The method 'scrape_references' takes in a vector of strings, and an indicator whether
the input file text is a requirement ('req'), test case or
test code ('tc'). This allows numbering to increase independently for each.
However, every reference must be unique. ie. ##reference whether it shows up in a
test case or requirement will be the same reference.</p>
<p>The method 'reference_insertion' takes a vector of strings and replaces references
with their numeric values.</p>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-vt_dynamic_referencer-scrape_references"><code>vt_dynamic_referencer$scrape_references()</code></a></p></li>
<li><p><a href="#method-vt_dynamic_referencer-reference_insertion"><code>vt_dynamic_referencer$reference_insertion()</code></a></p></li>
<li><p><a href="#method-vt_dynamic_referencer-list_references"><code>vt_dynamic_referencer$list_references()</code></a></p></li>
<li><p><a href="#method-vt_dynamic_referencer-new"><code>vt_dynamic_referencer$new()</code></a></p></li>
<li><p><a href="#method-vt_dynamic_referencer-clone"><code>vt_dynamic_referencer$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-vt_dynamic_referencer-scrape_references"></a><div class="section">
<h3 id="method-scrape-references-">Method <code>scrape_references()</code><a class="anchor" aria-label="anchor" href="#method-scrape-references-"></a></h3>
<p>collect references from text.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vt_dynamic_referencer</span><span class="op">$</span><span class="fu">scrape_references</span><span class="op">(</span><span class="va">text</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>text</code></dt>
<dd><p>character vector to collect references from.</p></dd>


<dt><code>type</code></dt>
<dd><p>type of file being converted; a requirement ('req'),
test case  or test code ('tc')</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/vt_dynamic_referencer.html">vt_dynamic_referencer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ref</span><span class="op">$</span><span class="fu">scrape_references</span><span class="op">(</span><span class="st">"##req:new_reference"</span><span class="op">)</span></span>
<span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-vt_dynamic_referencer-reference_insertion"></a><div class="section">
<h3 id="method-reference-insertion-">Method <code>reference_insertion()</code><a class="anchor" aria-label="anchor" href="#method-reference-insertion-"></a></h3>
<p>replace references in text with values</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vt_dynamic_referencer</span><span class="op">$</span><span class="fu">reference_insertion</span><span class="op">(</span><span class="va">text</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>text</code></dt>
<dd><p>character vector to be inserting references into</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/vt_dynamic_referencer.html">vt_dynamic_referencer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ref</span><span class="op">$</span><span class="fu">scrape_references</span><span class="op">(</span><span class="st">"##new_reference"</span><span class="op">)</span></span>
<span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ref</span><span class="op">$</span><span class="fu">reference_insertion</span><span class="op">(</span><span class="st">"This is my ##new_reference"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-vt_dynamic_referencer-list_references"></a><div class="section">
<h3 id="method-list-references-">Method <code>list_references()</code><a class="anchor" aria-label="anchor" href="#method-list-references-"></a></h3>
<p>list references available and their value</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vt_dynamic_referencer</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/vt_dynamic_referencer.html">vt_dynamic_referencer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ref</span><span class="op">$</span><span class="fu">scrape_references</span><span class="op">(</span><span class="st">"##new_reference"</span><span class="op">)</span></span>
<span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-vt_dynamic_referencer-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>create a new dynamic reference object</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/vt_dynamic_referencer.html">vt_dynamic_referencer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  reference_indicator <span class="op">=</span> <span class="st">"##"</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"number"</span>, <span class="st">"letter"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>reference_indicator</code></dt>
<dd><p>character vector that indicates the start of the dynamic references. defaults to "##type:reference"</p></dd>


<dt><code>type</code></dt>
<dd><p>"number" (arabic) or "letter" (latin uppercase) to use for counters</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>a new <code>vt_dynamic_reference</code> object</p>
</div>

</div><p></p><hr><a id="method-vt_dynamic_referencer-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">vt_dynamic_referencer</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">reference</span> <span class="op">&lt;-</span> <span class="va">vt_dynamic_referencer</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">reference</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;vt_dynamic_referencer&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Public:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     clone: function (deep = FALSE) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     initialize: function (reference_indicator = "##", type = c("number", "letter")) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     list_references: function () </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     reference_insertion: function (text) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     scrape_references: function (text) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Private:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     add_reference: function (reference_id, type = c("req", "tc")) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     advance_reference: function (type = c("req", "tc")) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ref_iter_number: list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     reference_indicator: ##</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     reference_indicator_regex: \#\#</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     references: list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     type: number</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `vt_dynamic_referencer$scrape_references`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">vt_dynamic_referencer</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> list()</span>
<span class="r-in"><span><span class="va">ref</span><span class="op">$</span><span class="fu">scrape_references</span><span class="op">(</span><span class="st">"##req:new_reference"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`req:new_reference`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `vt_dynamic_referencer$reference_insertion`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">vt_dynamic_referencer</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> list()</span>
<span class="r-in"><span><span class="va">ref</span><span class="op">$</span><span class="fu">scrape_references</span><span class="op">(</span><span class="st">"##new_reference"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> list()</span>
<span class="r-in"><span><span class="va">ref</span><span class="op">$</span><span class="fu">reference_insertion</span><span class="op">(</span><span class="st">"This is my ##new_reference"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "This is my ##new_reference"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `vt_dynamic_referencer$list_references`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">vt_dynamic_referencer</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> list()</span>
<span class="r-in"><span><span class="va">ref</span><span class="op">$</span><span class="fu">scrape_references</span><span class="op">(</span><span class="st">"##new_reference"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ref</span><span class="op">$</span><span class="fu">list_references</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> list()</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ellis Hughes, Eli Miller, Marie Vendettuoli, Peyman Eshghi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

